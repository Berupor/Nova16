# Разделение по блокам

```c
0x00–0x0F → перемещения
0x10–0x1F → стек
0x20–0x2F → арифметика
0x30–0x3F → сравнения/флаги
0x40–0x4F → переходы
0x50–0x5F → подпрограммы
0x60–0x6F → I/O?
0xF0+ → спец-инструкции
```

## v0.1 (Начальный набор)

| Опкод  | Имя             | Формат           | Описание                                      |
|--------|-----------------|------------------|-----------------------------------------------|
| `0x01` | `MOV dst, src`  | `[OP][dst][src]` | Копирует значение из одного регистра в другой |
| `0x02` | `MOVI reg, val` | `[OP][reg][imm]` | Записывает немедленное значение в регистр     |
| `0x10` | `PUSH reg`      | `[OP][reg]`      | Кладёт значение регистра на стек              |
| `0x11` | `POP reg`       | `[OP][reg]`      | Снимает со стека в регистр                    |
| `0x20` | `ADD dst, src`  | `[OP][dst][src]` | Складывает значения и пишет в `dst`           |
| `0x21` | `SUB dst, src`  | `[OP][dst][src]` | Вычитает `src` из `dst`                       |
| `0x30` | `CMP a, b`      | `[OP][a][b]`     | Устанавливает ZF, если `a == b`               |
| `0x40` | `JMP addr`      | `[OP][addr]`     | Безусловный переход                           |
| `0x41` | `JZ addr`       | `[OP][addr]`     | Переход, если ZF == 1                         |
| `0xF0` | `NOP`           | `[OP]`           | Пустая инструкция                             |
| `0xFF` | `HLT`           | `[OP]`           | Остановить исполнение                         |

## v0.2 (Доработка цилков)

| Опкод  | Имя    | Формат       | Описание                           |
|--------|--------|--------------|------------------------------------|
| `0x22` | `INC`  | `[OP][reg]`  | Увеличивает значение регистра на 1 |
| `0x23` | `DEC`  | `[OP][reg]`  | Уменьшает значение регистра на 1   |
| `0x50` | `CALL` | `[OP][addr]` | Положить return-addr, прыгнуть     |
| `0x51` | `RET`  | `[OP]`       | Достать return-addr, прыгнуть      |

## v0.3 (Работа с I/O)

| Опкод  | Имя     | Формат      | Описание                                       |
|--------|---------|-------------|------------------------------------------------|
| `0x60` | `PRINT` | `[OP][reg]` | Выводит в stdout значение регистра             |
| `0x61` | `READ`  | `[OP][reg]` | Записывает в регистр `uint8` значение из stdin |