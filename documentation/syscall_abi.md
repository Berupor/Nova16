# Syscall ABI

Nova8 не содержит встроенных инструкций для работы с вводом-выводом, завершением программы и другими функциями, выходящими за рамки ответственности процессора.

Вместо этого используется отдельный механизм системных вызовов (`SYSCALL`) — как в реальных архитектурах.

`SYSCALL` — это специальная инструкция, которая передаёт управление среде выполнения. Поведение зависит от значения в регистре `B` (код вызова). Аргументы и возвращаемые значения передаются через регистры.

### Регистр протокола:

| Регистр | Назначение                    |
|---------|-------------------------------|
| `B`     | Номер системного вызова       |
| `A`     | Первый аргумент и/или возврат |

### Таблица вызовов (v0.1):

| Код  | Имя     | Аргументы | Возврат | Описание                      |
|------|---------|-----------|---------|-------------------------------|
| `01` | `print` | `A`       | —       | Выводит значение регистра `A` |
| `02` | `read`  | —         | `A`     | Считывает число из stdin      |
| `03` | `exit`  | `A`       | —       | Завершает программу с кодом   |

### Пример

```asm
; вывести число
MOVI A, 42
MOVI B, 0x01
SYSCALL

; считать число
MOVI B, 0x02
SYSCALL
; теперь A содержит ввод

; завершить программу
MOVI A, 0
MOVI B, 0x03
SYSCALL
```